<app-navbar></app-navbar>

<br>

<div class="row animated fadeIn" infiniteScroll>
    <ng-container *ngFor="let character of characters">
        <ng-container *ngIf="filters.filter == 'Species' then species"></ng-container>
        <ng-container *ngIf="filters.filter == 'Status' then status"></ng-container>
        
        <ng-template #species>
            <div class="col-md-3" *ngIf="character.species == filters.subFilter" (click)="viewDetails(character)">
                <div class="card text-white bg-dark mb-5">
                    <div class="card-body">
                      <h5 class="card-title">{{ character.name }}</h5>
                    <img src="https://img.icons8.com/emoji/48/000000/skull-emoji.png" class="img-size" *ngIf="character.status == 'Dead' ">
                    <img src="https://img.icons8.com/emoji/48/000000/green-heart.png" class="img-size"*ngIf="character.status == 'Alive' ">
                    <img src="https://img.icons8.com/color/50/000000/decision.png" class="img-size"*ngIf="character.status == 'unknown' ">
                    <h6 class="card-subtitle text-muted d-inline-block va-3">{{ character.status  }} - {{ character.species }}</h6>
                    </div>
                    <img [src]="character.image" class="d-block user-select-none" width="100%" height="300">
                    <div class="card-body">
                      <h5>Gender:</h5>
                      <p class="card-text text-muted">{{ character.gender }}</p>
                        <h5>Location:</h5>
                      <p class="card-text text-muted ">{{ character.location.name }}</p>
                    </div>
                </div>
            </div>
        </ng-template>
    
        <ng-template #status>
            <div class="col-md-3" *ngIf="character.status == filters.subFilter" (click)="viewDetails(character)">
                <div class="card text-white bg-dark mb-5">
                    <div class="card-body">
                      <h5 class="card-title">{{ character.name }}</h5>
                    <img src="https://img.icons8.com/emoji/48/000000/skull-emoji.png" class="img-size" *ngIf="character.status == 'Dead' ">
                    <img src="https://img.icons8.com/emoji/48/000000/green-heart.png" class="img-size"*ngIf="character.status == 'Alive' ">
                    <img src="https://img.icons8.com/color/50/000000/decision.png" class="img-size"*ngIf="character.status == 'unknown' ">
                    <h6 class="card-subtitle text-muted d-inline-block va-3">{{ character.status  }} - {{ character.species }}</h6>
                    </div>
                    <img [src]="character.image" class="d-block user-select-none" width="100%" height="300">
                    <div class="card-body">
                      <h5>Gender:</h5>
                      <p class="card-text text-muted">{{ character.gender }}</p>
                        <h5>Location:</h5>
                      <p class="card-text text-muted ">{{ character.location.name }}</p>
                    </div>
                </div>
            </div>
        </ng-template>
    </ng-container>

    <div class="spinner-grow mx-auto spinner-size" role="status" *ngIf="loading">
      <span class="visually-hidden">Loading...</span>
    </div>
</div>